#include<iostream>
#include<chrono>


int balance=300;
int moves=0;


void game(char input,long long int random){
    char* bucket = new char[6];
    bucket[0]='m',bucket[1]='a',bucket[2]='s',bucket[3]='t',bucket[4]='e',bucket[5]='r';
    if(bucket[random]==input){
        balance=balance*2;
        std::cout<<"\t\tWin: You won, Balance is "<<balance<<std::endl;
    }else{
        balance-=100;
        std::cout<<"\t\tLost: 100 was reduced from your Balance!. Current Balance: "<<balance<<std::endl;
        std::cout<<"\t\tCorrect Token was '"<<bucket[random]<<"'!"<<std::endl;
    }
    moves+=1;
    free(bucket);
};



int main(){
    char input;
    long long int random_number=0;

    std::cout<<"\t\t GAMBLE WITH CARE!"<<std::endl;
    std::cout<<"\tBalance: "<<balance<<std::endl;
    std::cout<<"\tHow to Play: Choose between 'm','a','s','t','e' or 'r'"<<std::endl;

    while(balance>0){
        std::cout<<"\n\t ['m','a','s','t','e','r']: ";

        random_number=std::chrono::duration_cast<std::chrono::seconds>(
            std::chrono::system_clock::now().time_since_epoch()
        ).count()%6;

        std::cin>>input;
        
        if(input=='q'){
            break;
        }

        game(input,random_number);

    }

    std::cout<<"Game finished!\nBalance: "<<balance<<"\nMoves Made: "<<moves<<std::endl;
    return 0;

}